{"version":3,"sources":["webpack:///src/views/tool/cnd/cdnUploadRecordList.vue","webpack:///./src/views/tool/cnd/cdnUploadRecordList.vue?812e","webpack:///./src/views/tool/cnd/cdnUploadRecordList.vue","webpack:///src/views/tool/cnd/cndUpload.vue","webpack:///./src/views/tool/cnd/cndUpload.vue?33bd","webpack:///./src/views/tool/cnd/cndUpload.vue","webpack:///src/views/tool/CDN.vue","webpack:///./src/views/tool/CDN.vue?d000","webpack:///./src/views/tool/CDN.vue"],"names":["cdnUploadRecordList","name","[object Object]","module_name","refresh_page_method","this","upload_project_info_list","to_cdn_state_list","upload_state_list","upload_mode_type_list","reliability_state_code_list","searchFormData","fileName","upload_project_id","to_cdn_state_code_id","creator","createTime","pageNum","pageSize","pageCount","order","tableData","$store","state","Apps","$on","onSearch","$setCodeList","set_to_cdn_state_code","set_upload_state_code","set_upload_project_info_list","methods","val","$refs","searchFormRef","resetFields","$getCodeValuesByCode","$getProjectCodeInfo","row","column","cellValue","length","res","filter","item","codeId","codeValue","$formatCodeValue","property","formatIsToCDN","isToCdn","key","code","searchData","R","$http","data","post","retransData","index","rows","r_retransmission","format_upload_state","get","$message","success","error","r_getUploadInfoList","cnd_cdnUploadRecordList","render","_vm","_h","$createElement","_c","_self","staticStyle","padding-top","ref","attrs","inline","model","size","label","prop","placeholder","value","callback","$$v","$set","expression","_v","clearable","_l","project","project_name","_id","type","range-separator","start-placeholder","end-placeholder","width","staticClass","height","getTableHeight","on","click","onReset","current-page","page-size","total","page-sizes","layout","size-change","handleSizeChange","current-change","handleCurrentChange","border","stripe","fixed","onIndexMethod","scopedSlots","_u","fn","scope","gutter","span","effect","content","placement","nativeOn","$event","preventDefault","downloadFile","$index","retransmission","trigger","label-width","fileCdnPath","slot","_s","show-overflow-tooltip","formatter","format_upload_mode_type","format_upload_project","class","format_reliability_state_style","format_reliability_state","format_to_cdn_state","staticRenderFns","tool_cnd_cdnUploadRecordList","__webpack_require__","normalizeComponent","ssrContext","cndUpload","accept","statusText","uploading","paused","waiting","upload_project_info_List","to_cdn_rule_code_list","pageData","serviceName","to_cdn_rule_code_id","cdnRootPath","upload_mode_code_id","uploadState","isCreateUploader","computed","options","target","window","location","origin","pathname","split","testChunks","chunkSize","forceChunkSize","fileParameterName","query","headers","withCredentials","method","speedSmoothingFactor","set_upload_project","createUploader","$search","project_type_code_id","par","project_id","tool_type_code_id","tool_info","r_get_tool_info","toolRootPath","upload","uploaderInstance","uploadRef","uploader","getSize","warning","pause","resume","cancel","rootFile","file","message","chunk","result","JSON","parse","xhr","response","res_type","console","log","$notify","msg","removeFile","rootfile","$emit_method","cnd_cndUpload","active-color","inactive-color","change","changeToCDNState","changeProject","_e","confirmUpload","forceUpload","overUpload","pauseUpload","resumeUpload","cancelUpload","file-status-text","autoStart","file-success","fileSuccess","file-complete","fileComplete","text-align","directory","max-height","overflow-y","overflow-x","id","CDN","components","cndUpload_normalizeComponent","activeName","tab","event","tool_CDN","CDN_Component","CDN_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.4acd61cfd69d6ae02cf7.js","sourcesContent":["<template>\r\n    <div style=\"padding-top: 6px\">\r\n        <el-form :inline=\"true\" :model=\"searchFormData\" ref=\"searchFormRef\" size=\"mini\">\r\n            <el-form-item label=\"文件名称\" prop=\"fileName\">\r\n                <el-input v-model=\"searchFormData.fileName\" placeholder=\"文件名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"项目名称\" prop=\"upload_project_id\">\r\n                <el-select v-model=\"searchFormData.upload_project_id\" placeholder=\"请选项目名称\" clearable>\r\n                    <el-option v-for=\"item in upload_project_info_list\"\r\n                               :key=\"item.project\"\r\n                               :label=\"item.project_name\"\r\n                               :value=\"item._id\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"上传时间\" prop=\"createTime\">\r\n                <el-date-picker\r\n                        v-model=\"searchFormData.createTime\"\r\n                        type=\"daterange\"\r\n                        range-separator=\"至\"\r\n                        start-placeholder=\"开始日期\"\r\n                        end-placeholder=\"结束日期\">\r\n                </el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item label=\"转移状态\" prop=\"to_cdn_state_code_id\">\r\n                <el-select v-model=\"searchFormData.to_cdn_state_code_id\" placeholder=\"转移状态\" style=\"width:120px\" clearable>\r\n                    <el-option v-for=\"item in to_cdn_state_list\"\r\n                               :key=\"item.codeId\"\r\n                               :label=\"item.codeValue\"\r\n                               :value=\"item.codeId\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n\r\n            <div class=\"v-search-opt\" :height=\"getTableHeight(50)\">\r\n                <div class=\"v-inline\">\r\n                    <el-button size=\"mini\" type=\"primary\" @click=\"onSearch\"><i class=\"iconfont icon-chaxun\"></i> 查询</el-button>\r\n                    <el-button size=\"mini\" type=\"primary\" @click=\"onReset\"><i class=\"iconfont icon-chongzhi\"></i> 重置</el-button>\r\n                    <!--<el-button size=\"mini\" type=\"primary\" @click=\"onRefresh\"><i class=\"iconfont icon-shuaxin1\"></i> 刷新上传记录</el-button>-->\r\n                </div>\r\n                <div class=\"v-pagination\">\r\n                    <el-pagination\r\n                            @size-change=\"handleSizeChange\"\r\n                            @current-change=\"handleCurrentChange\"\r\n                            :current-page=\"searchFormData.pageNum\"\r\n                            :page-size=\"searchFormData.pageSize\"\r\n                            :total=\"searchFormData.pageCount\"\r\n                            :page-sizes=\"[16, 30, 50, 100]\"\r\n                            layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    >\r\n                    </el-pagination>\r\n                </div>\r\n\r\n            </div>\r\n        </el-form>\r\n        <div style=\"padding-top: 18px\">\r\n            <!--<el-table :data=\"tableData\" :stripe=\"true\" :border=\"true\"  height=\"745\" size=\"mini\">-->\r\n            <el-table :data=\"tableData\" :border=\"true\" :stripe=\"true\" size=\"mini\" :height=\"getTableHeight(100)\">\r\n                <el-table-column fixed type=\"index\" :index=\"onIndexMethod(searchFormData.pageNum,searchFormData.pageSize)\" label=\"序号\" width=\"60\"></el-table-column>\r\n                <el-table-column fixed=\"left\" label=\"操作\" width=\"80\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-row :gutter=\"18\">\r\n                            <el-col :span=\"8\">\r\n                                <el-tooltip effect=\"dark\" content=\"下载\" placement=\"left\">\r\n                                    <el-button @click.native.prevent=\"downloadFile(scope.$index, tableData)\" type=\"text\" size=\"mini\"><i class=\"iconfont icon-icon\"></i></el-button>\r\n                                </el-tooltip>\r\n                            </el-col>\r\n                            <el-col v-if=\"scope.row.to_cdn_state_code_id !== '2'\" :span=\"16\">\r\n                                <el-tooltip effect=\"dark\" content=\"重新转移\" placement=\"left\">\r\n                                    <el-button @click.native.prevent=\"retransmission(scope.$index, tableData)\" type=\"text\" size=\"mini\"><i class=\"iconfont icon-zhongxinshangchuan\"></i></el-button>\r\n                                </el-tooltip>\r\n                            </el-col>\r\n                            <el-col v-else :span=\"16\">\r\n                                <el-tooltip effect=\"dark\" content=\"再次转移\" placement=\"left\">\r\n                                    <el-button @click.native.prevent=\"retransmission(scope.$index, tableData)\" type=\"text\" size=\"mini\"><i class=\"iconfont icon-zhongxinshangchuan icon-red\"></i></el-button>\r\n                                </el-tooltip>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        fixed\r\n                        prop=\"filePath\"\r\n                        label=\"文件信息\"\r\n                        width=\"220px\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-popover trigger=\"hover\" placement=\"top\">\r\n                            <el-form label-width=\"120px\" size=\"mini\">\r\n                                <el-form-item label=\"服务器路径:\">\r\n                                    <el-input style=\"width:350px\" v-model=\"scope.row.filePath\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"CDN路径:\">\r\n                                    <el-input v-model=\"scope.row.fileCdnPath\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"HTTP路径:\">\r\n                                    <el-input v-model=\"'http:/'+scope.row.fileCdnPath\"></el-input>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                            <div slot=\"reference\" class=\"name-wrapper\">\r\n                                <el-tag size=\"medium\">{{ scope.row.fileName }}</el-tag>\r\n                            </div>\r\n                        </el-popover>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        fixed\r\n                        prop=\"createTime\"\r\n                        label=\"上传时间\"\r\n                        width=\"160\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"creator\"\r\n                        label=\"上传者\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                        width=\"60\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"upload_mode_code_id\"\r\n                        label=\"上传方式\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                        width=\"80\"\r\n                        :formatter=\"format_upload_mode_type\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"upload_project_id\"\r\n                        label=\"所属项目\"\r\n                        width=\"120\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                        :formatter=\"format_upload_project\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :show-overflow-tooltip=\"true\"\r\n                        prop=\"reliability_state_code_id\"\r\n                        label=\"可靠性\"\r\n                        width=\"100\"\r\n                        :formatter=\"formatIsToCDN\">\r\n                    <template slot-scope=\"scope\">\r\n                        <a><i :class=\"'iconfont icon-dian '+format_reliability_state_style(scope.row,'reliability_state_code_id')\"></i>{{\" \" + format_reliability_state(scope.row)}}</a>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"isToCdn\"\r\n                        label=\"已转移\"\r\n                        width=\"60\"\r\n                        :formatter=\"formatIsToCDN\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :show-overflow-tooltip=\"true\"\r\n                        prop=\"fileSize\"\r\n                        label=\"文件大小\"\r\n                        width=\"80\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :show-overflow-tooltip=\"true\"\r\n                        prop=\"toCdnConsumedTime\"\r\n                        label=\"转移耗时/s\"\r\n                        width=\"100\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        fixed=\"right\"\r\n                        width=\"90\"\r\n                        prop=\"to_cdn_state_code_id\"\r\n                        label=\"转移状态\"\r\n                        :formatter=\"format_to_cdn_state\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        fixed=\"right\"\r\n                        width=\"90\"\r\n                        prop=\"upload_state_code_id\"\r\n                        label=\"上传状态\"\r\n                        :formatter=\"format_upload_state\">\r\n                </el-table-column>\r\n\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'cdnUploadRecordList',\r\n        data() {\r\n            return {\r\n                module_name: 'cdnUpload',\r\n                refresh_page_method: 'refresh_' + this.module_name,\r\n                upload_project_info_list: null,\r\n                to_cdn_state_list: null,\r\n                upload_state_list: null,\r\n                upload_mode_type_list: null,\r\n                reliability_state_code_list: null,\r\n                searchFormData: {\r\n                    fileName: '',\r\n                    upload_project_id: '',\r\n                    to_cdn_state_code_id: '',\r\n                    creator: '',\r\n                    createTime: '',\r\n                    pageNum: 1,\r\n                    pageSize: 16,\r\n                    pageCount: 1,\r\n                    order: '-createTime'\r\n                },\r\n                tableData: []\r\n            }\r\n        },\r\n        created() {\r\n            this.$store.state.Apps.$on(this.refresh_page_method, () => {\r\n                this.onSearch();\r\n            });\r\n        },\r\n        async mounted() {\r\n            this.upload_mode_type_list = await this.$setCodeList(this.upload_mode_type_list, 'upload_mode_type');\r\n            this.reliability_state_code_list = await this.$setCodeList(this.reliability_state_code_list, 'reliability_state');\r\n            this.set_to_cdn_state_code();\r\n            this.set_upload_state_code();\r\n            this.set_upload_project_info_list();\r\n            this.onSearch();\r\n        },\r\n        methods: {\r\n            handleSizeChange(val) //修改单页显示条数\r\n            {\r\n                this.searchFormData.pageSize = val;\r\n                this.onSearch();\r\n            },\r\n            handleCurrentChange(val) //当前页修改\r\n            {\r\n                this.searchFormData.pageNum = val;\r\n                this.onSearch();\r\n            },\r\n            onReset() // 重置功能\r\n            {\r\n                this.$refs.searchFormRef.resetFields();\r\n                this.onSearch();\r\n            },\r\n            async set_to_cdn_state_code() // 设置转移cdn状态\r\n            {\r\n                if (!this.to_cdn_state_list) {\r\n                    this.to_cdn_state_list = await this.$getCodeValuesByCode('to_cdn_state');\r\n                }\r\n            },\r\n            async set_upload_state_code() // 设置转移cdn状态\r\n            {\r\n                if (!this.upload_state_list) {\r\n                    this.upload_state_list = await this.$getCodeValuesByCode('upload_state');\r\n                }\r\n            },\r\n            async set_upload_project_info_list() // 设置转移cdn状态\r\n            {\r\n                if (!this.upload_project_info_list) {\r\n                    this.upload_project_info_list = await this.$getProjectCodeInfo();\r\n                }\r\n            },\r\n            format_to_cdn_state(row, column, cellValue) {\r\n                if (this.to_cdn_state_list && this.to_cdn_state_list.length > 0) {\r\n                    let res = this.to_cdn_state_list.filter(item => item.codeId === row.to_cdn_state_code_id);\r\n                    if (res != null && res.length > 0) {\r\n                        return res[0].codeValue;\r\n                    }\r\n                }\r\n            },\r\n            format_upload_state(row, column, cellValue) {\r\n                return this.$formatCodeValue(row, this.upload_state_list, column.property)\r\n            },\r\n            format_upload_mode_type(row, column, cellValue) /*格式化项目类型信息*/ {\r\n                return this.$formatCodeValue(row, this.upload_mode_type_list, column.property)\r\n            },\r\n            formatIsToCDN(row, column, cellValue) {\r\n                return row.isToCdn === true ? '是' : '否';\r\n            },\r\n            format_upload_project(row, column, cellValue) // 格式化项目信息\r\n            {\r\n                return this.$formatCodeValue(row, this.upload_project_info_list, column.property, '_id', 'project_name')\r\n            },\r\n            format_reliability_state_style(row, key)/*可靠性状态样式*/ {\r\n                let code = row[key];\r\n                if (code === '90')\r\n                    return 'set-danger-4';\r\n                else if (code === '80')\r\n                    return 'set-danger-3';\r\n                else if (code === '70')\r\n                    return 'set-danger-2';\r\n                else if (code === '50')\r\n                    return 'set-danger-1';\r\n                else if (code === '0')\r\n                    return 'set-danger-0';\r\n                else\r\n                    return 'set-info';\r\n            },\r\n            format_reliability_state(row, column, cellValue)/*格式化可靠性状态*/ {\r\n                return this.$formatCodeValue(row, this.reliability_state_code_list, 'reliability_state_code_id')\r\n            },\r\n            // 数据库操作数据\r\n            async r_getUploadInfoList(searchData) {\r\n                let R = new this.$http();\r\n                let {data} = await R.post(searchData, 'OAMP_search_upload_list');\r\n                this.searchFormData.pageCount = data.pageCount;\r\n                this.tableData = data.data\r\n            },\r\n            async r_retransmission(retransData) {\r\n                let R = new this.$http();\r\n                let {data} = await R.post(retransData, 'OAMP_retransmission');\r\n                return data\r\n            },\r\n            // 操作按钮\r\n            downloadFile(index, rows) {\r\n                // console.log(rows[index])\r\n            },\r\n            // 重新转移\r\n            retransmission(index, rows) {\r\n                this.tableData[index].to_cdn_state_code_id = 0;\r\n                rows[index].to_cdn_state_code_id = 0;\r\n                let res = this.r_retransmission(rows[index]);\r\n                this.to_cdn_state_code_id = this.format_upload_state(rows[index], null, null);\r\n                if (res != null && res.get('is_success') === 'true') {\r\n                    this.$message.success('转移文件任务重新启动成功')\r\n                } else {\r\n                    this.$message.error('转移文件任务重新启动失败')\r\n                }\r\n            },\r\n            onRefresh() // 刷新记录\r\n            {\r\n                this.onSearch();\r\n            },\r\n            onSearch() // 查询按钮\r\n            {\r\n                /*查询按钮*/\r\n                let searchData = this.searchFormData;\r\n                this.r_getUploadInfoList(searchData)\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n    h1 {\r\n        font-weight: normal;\r\n    }\r\n\r\n    .item {\r\n        margin: 4px;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/tool/cnd/cdnUploadRecordList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-top\":\"6px\"}},[_c('el-form',{ref:\"searchFormRef\",attrs:{\"inline\":true,\"model\":_vm.searchFormData,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"文件名称\",\"prop\":\"fileName\"}},[_c('el-input',{attrs:{\"placeholder\":\"文件名称\"},model:{value:(_vm.searchFormData.fileName),callback:function ($$v) {_vm.$set(_vm.searchFormData, \"fileName\", $$v)},expression:\"searchFormData.fileName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"prop\":\"upload_project_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选项目名称\",\"clearable\":\"\"},model:{value:(_vm.searchFormData.upload_project_id),callback:function ($$v) {_vm.$set(_vm.searchFormData, \"upload_project_id\", $$v)},expression:\"searchFormData.upload_project_id\"}},_vm._l((_vm.upload_project_info_list),function(item){return _c('el-option',{key:item.project,attrs:{\"label\":item.project_name,\"value\":item._id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传时间\",\"prop\":\"createTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.searchFormData.createTime),callback:function ($$v) {_vm.$set(_vm.searchFormData, \"createTime\", $$v)},expression:\"searchFormData.createTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"转移状态\",\"prop\":\"to_cdn_state_code_id\"}},[_c('el-select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"转移状态\",\"clearable\":\"\"},model:{value:(_vm.searchFormData.to_cdn_state_code_id),callback:function ($$v) {_vm.$set(_vm.searchFormData, \"to_cdn_state_code_id\", $$v)},expression:\"searchFormData.to_cdn_state_code_id\"}},_vm._l((_vm.to_cdn_state_list),function(item){return _c('el-option',{key:item.codeId,attrs:{\"label\":item.codeValue,\"value\":item.codeId}})}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"v-search-opt\",attrs:{\"height\":_vm.getTableHeight(50)}},[_c('div',{staticClass:\"v-inline\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_c('i',{staticClass:\"iconfont icon-chaxun\"}),_vm._v(\" 查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onReset}},[_c('i',{staticClass:\"iconfont icon-chongzhi\"}),_vm._v(\" 重置\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"v-pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.searchFormData.pageNum,\"page-size\":_vm.searchFormData.pageSize,\"total\":_vm.searchFormData.pageCount,\"page-sizes\":[16, 30, 50, 100],\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-top\":\"18px\"}},[_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":true,\"stripe\":true,\"size\":\"mini\",\"height\":_vm.getTableHeight(100)}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"type\":\"index\",\"index\":_vm.onIndexMethod(_vm.searchFormData.pageNum,_vm.searchFormData.pageSize),\"label\":\"序号\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"left\",\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-row',{attrs:{\"gutter\":18}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"下载\",\"placement\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.downloadFile(scope.$index, _vm.tableData)}}},[_c('i',{staticClass:\"iconfont icon-icon\"})])],1)],1),_vm._v(\" \"),(scope.row.to_cdn_state_code_id !== '2')?_c('el-col',{attrs:{\"span\":16}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"重新转移\",\"placement\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.retransmission(scope.$index, _vm.tableData)}}},[_c('i',{staticClass:\"iconfont icon-zhongxinshangchuan\"})])],1)],1):_c('el-col',{attrs:{\"span\":16}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"再次转移\",\"placement\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.retransmission(scope.$index, _vm.tableData)}}},[_c('i',{staticClass:\"iconfont icon-zhongxinshangchuan icon-red\"})])],1)],1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"filePath\",\"label\":\"文件信息\",\"width\":\"220px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"trigger\":\"hover\",\"placement\":\"top\"}},[_c('el-form',{attrs:{\"label-width\":\"120px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"服务器路径:\"}},[_c('el-input',{staticStyle:{\"width\":\"350px\"},model:{value:(scope.row.filePath),callback:function ($$v) {_vm.$set(scope.row, \"filePath\", $$v)},expression:\"scope.row.filePath\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"CDN路径:\"}},[_c('el-input',{model:{value:(scope.row.fileCdnPath),callback:function ($$v) {_vm.$set(scope.row, \"fileCdnPath\", $$v)},expression:\"scope.row.fileCdnPath\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"HTTP路径:\"}},[_c('el-input',{model:{value:('http:/'+scope.row.fileCdnPath),callback:function ($$v) {_vm.$set('http:/'+scope.row, \"fileCdnPath\", $$v)},expression:\"'http:/'+scope.row.fileCdnPath\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(scope.row.fileName))])],1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"createTime\",\"label\":\"上传时间\",\"width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"creator\",\"label\":\"上传者\",\"show-overflow-tooltip\":true,\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"upload_mode_code_id\",\"label\":\"上传方式\",\"show-overflow-tooltip\":true,\"width\":\"80\",\"formatter\":_vm.format_upload_mode_type}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"upload_project_id\",\"label\":\"所属项目\",\"width\":\"120\",\"show-overflow-tooltip\":true,\"formatter\":_vm.format_upload_project}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"prop\":\"reliability_state_code_id\",\"label\":\"可靠性\",\"width\":\"100\",\"formatter\":_vm.formatIsToCDN},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',[_c('i',{class:'iconfont icon-dian '+_vm.format_reliability_state_style(scope.row,'reliability_state_code_id')}),_vm._v(_vm._s(\" \" + _vm.format_reliability_state(scope.row)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isToCdn\",\"label\":\"已转移\",\"width\":\"60\",\"formatter\":_vm.formatIsToCDN}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"prop\":\"fileSize\",\"label\":\"文件大小\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"prop\":\"toCdnConsumedTime\",\"label\":\"转移耗时/s\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"width\":\"90\",\"prop\":\"to_cdn_state_code_id\",\"label\":\"转移状态\",\"formatter\":_vm.format_to_cdn_state}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"width\":\"90\",\"prop\":\"upload_state_code_id\",\"label\":\"上传状态\",\"formatter\":_vm.format_upload_state}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a9b4970a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/tool/cnd/cdnUploadRecordList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a9b4970a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cdnUploadRecordList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cdnUploadRecordList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cdnUploadRecordList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a9b4970a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cdnUploadRecordList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a9b4970a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/tool/cnd/cdnUploadRecordList.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <el-form :model=\"pageData\"\r\n                 size=\"mini\"\r\n                 label-width=\"120px\"\r\n                 style=\"width: 500px;\">\r\n            <el-form-item label=\"上传CDN\">\r\n                <el-switch\r\n                        v-model=\"pageData.isToCdn\"\r\n                        @change=\"changeToCDNState\"\r\n                        active-color=\"#13ce66\"\r\n                        inactive-color=\"#ff4949\">\r\n                </el-switch>\r\n            </el-form-item>\r\n            <el-form-item label=\"项目名称\" v-if=\"pageData.isToCdn\">\r\n                <el-col :span=\"20\">\r\n                    <el-select v-model=\"pageData.upload_project_id\" placeholder=\"项目名称\" clearable @change=\"changeProject(pageData.upload_project_id)\" style=\"width: 100%;\">\r\n                        <el-option v-for=\"item in upload_project_info_List\"\r\n                                   :key=\"item.project\"\r\n                                   :label=\"item.project_name\"\r\n                                   :value=\"item._id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-col>\r\n            </el-form-item>\r\n            <el-form-item label=\"CDN目录规则\" v-if=\"pageData.isToCdn\">\r\n                <el-col :span=\"20\">\r\n                    <el-select v-model=\"pageData.to_cdn_rule_code_id\" placeholder=\"CDN目录规则\" clearable style=\"width: 100%;\">\r\n                        <el-option v-for=\"item in to_cdn_rule_code_list\"\r\n                                   :key=\"item.codeId\"\r\n                                   :label=\"item.codeValue\"\r\n                                   :value=\"item.codeId\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-col>\r\n            </el-form-item>\r\n            <el-form-item label=\"CDN根路径:\" prop=\"cdnRootPath\" v-if=\"pageData.isToCdn\">{{pageData.cdnRootPath}}</el-form-item>\r\n            <el-form-item v-if=\"isCreateUploader\">\r\n                <el-col :span=\"24\">\r\n                    <el-button v-if=\"uploadState === 'ready'\" type=\"primary\" @click=\"confirmUpload\">通用上传</el-button><!--常规上传-->\r\n                    <el-button v-if=\"uploadState === 'ready'\" type=\"primary\" @click=\"forceUpload\">强制上传</el-button><!--强制上传、转移重复的文件-->\r\n                    <el-button v-if=\"uploadState === 'ready'\" type=\"primary\" @click=\"overUpload\">覆盖上传</el-button><!--覆盖已经存在的文件、不存在的按照当前规则存储-->\r\n\r\n                    <el-button v-else-if=\"uploadState === 'upload'\" type=\"primary\" @click=\"pauseUpload\">暂停上传</el-button>\r\n                    <el-button v-else type=\"primary\" @click=\"resumeUpload\">继续上传</el-button>\r\n                    <el-button type=\"primary\" @click=\"cancelUpload\">取消上传</el-button>\r\n                </el-col>\r\n            </el-form-item>\r\n        </el-form>\r\n        <uploader v-if=\"isCreateUploader\"\r\n                  ref=\"uploadRef\"\r\n                  :options=\"options\"\r\n                  :file-status-text=\"statusText\"\r\n                  @file-success=\"fileSuccess\"\r\n                  @file-complete=\"fileComplete\"\r\n                  class=\"uploader-example\"\r\n                  :autoStart=\"false\">\r\n            <uploader-unsupport></uploader-unsupport>\r\n            <uploader-drop style=\"text-align: center\">\r\n                <p>拖拽文件至此上传</p>\r\n                <uploader-btn>选择文件</uploader-btn>\r\n                <uploader-btn :attrs=\"attrs\">选择图片</uploader-btn>\r\n                <uploader-btn :directory=\"true\">选择文件夹</uploader-btn>\r\n            </uploader-drop>\r\n            <uploader-list v-if=\"pageData.isToCdn\" style=\"max-height: 500px; overflow-y: scroll;overflow-x: hidden;\" id=\"style-7\" ref=\"uploadListRef\"></uploader-list>\r\n            <uploader-list v-else style=\"max-height: 641px; overflow-y: scroll;overflow-x: hidden;\" id=\"style-7\" ref=\"uploadListRef\"></uploader-list>\r\n        </uploader>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'cdnUpload',\r\n        data() {\r\n            return {\r\n                module_name: 'cdnUpload',\r\n                refresh_page_method: 'refresh_' + this.module_name,\r\n                attrs: {\r\n                    accept: 'image/*'\r\n                },\r\n                statusText: {\r\n                    success: '上传成功',\r\n                    error: '上传出错',\r\n                    uploading: '上传中',\r\n                    paused: '暂停中',\r\n                    waiting: '等待中'\r\n                },\r\n                upload_project_info_List: null,\r\n                to_cdn_rule_code_list: null,\r\n                pageData: {\r\n                    serviceName: 'OAMP_uploadFile',\r\n                    to_cdn_rule_code_id: '', //转移cdn目录规则\r\n                    upload_project_id: '', //项目名称\r\n                    isToCdn: true,  // 是否转移到cdn中\r\n                    cdnRootPath: '请设置cnd根地址',  //cdn的根路径\r\n                    upload_mode_code_id: '',//上传方式【通用 1 、强制2 、覆盖 3 】\r\n                },\r\n                uploadState: 'ready',\r\n                isCreateUploader: false,\r\n            }\r\n        },\r\n        computed: {\r\n            options() {\r\n                return {\r\n                    target: window.location.origin + '/' + window.location.pathname.split('/')[1] + '/uploadFile',  // 'http://127.0.0.1:8080/OAMP/uploadFile', //目标上传 URL，可以是字符串也可以是函数，如果是函数的话，则会传入 Uploader.File 实例、当前块 Uploader.Chunk 以及是否是测试模式，默认值为 '/'\r\n                    // target: 'http://127.0.0.1:8080/OAMP/uploadFile', //目标上传 URL，可以是字符串也可以是函数，如果是函数的话，则会传入 Uploader.File 实例、当前块 Uploader.Chunk 以及是否是测试模式，默认值为 '/'\r\n                    testChunks: false,\r\n                    chunkSize: 4 * 1024 * 1024, //分块时按照该值来分。最后一个上传块的大小是可能是大于等于1倍的这个值但是小于两倍的这个值大小  默认 1*1024*1024\r\n                    forceChunkSize: false,// 是否强制所有的块都是小于等于 chunkSize 的值。默认是 false\r\n                    fileParameterName: true, //上传文件时文件的参数名，默认 file\r\n                    query: {}, // 其他额外的参数，这个可以是一个对象或者是一个函数，如果是函数的话，则会传入 Uploader.File 实例、当前块 Uploader.Chunk 以及是否是测试模式，默认为 {}\r\n                    headers: {}, //   额外的一些请求头，如果是函数的话，则会传入 Uploader.File 实例、当前块 Uploader.Chunk 以及是否是测试模式，默认 {}\r\n                    withCredentials: false, //标准的 CORS 请求是不会带上 cookie 的，如果想要带的话需要设置 withCredentials 为 true，默认 false\r\n                    method: 'multipart', //method 当上传的时候所使用的是方式，可选 multipart、octet，默认 multipart\r\n                    speedSmoothingFactor: 0.02\r\n                }\r\n            },\r\n        },\r\n        async mounted() {\r\n            this.to_cdn_rule_code_list = await this.$setCodeList(this.to_cdn_rule_code_list, 'to_cdn_rule');\r\n            this.set_upload_project();\r\n        },\r\n        methods: {\r\n            changeToCDNState() {\r\n                if (this.pageData.isToCdn) {\r\n\r\n                } else {\r\n                    this.pageData.cdnRootPath = null;\r\n                    this.pageData.upload_project_id = null;\r\n                    this.pageData.to_cdn_rule_code_id = null;\r\n                }\r\n                this.createUploader();\r\n            },\r\n            createUploader() /*创建上传控件*/ {\r\n                /*设置附带参数*/\r\n                this.options.query = this.pageData;\r\n                if (this.pageData.isToCdn) {\r\n                    // 需要上传到CDN 需要判断是否填写了上传地址信息\r\n                    if (this.pageData.cdnRootPath == null) {\r\n                        this.isCreateUploader = false;\r\n                    } else {\r\n                        this.isCreateUploader = true;\r\n                        this.uploadState = 'ready';\r\n                    }\r\n                } else {\r\n                    // 不需要传递到CDN上\r\n                    this.isCreateUploader = true;\r\n                    this.uploadState = 'ready';\r\n                }\r\n            },\r\n            async set_upload_project() // 设置上传项目信息\r\n            {\r\n                if (!this.upload_project_info_List) {\r\n                    let data = await this.$search({'project_type_code_id': 'CDN'}, 'OAMP_search_project_code_list');\r\n                    if (data != null)\r\n                        this.upload_project_info_List = data.data\r\n                }\r\n            },\r\n            async r_get_tool_info(par) // 新增工具信息\r\n            {\r\n                let R = new this.$http();\r\n                let {data} = await R.post(par, 'OAMP_get_tool_info');\r\n                if (data != null && data !== 'null' && data.data != null && data.data.length > 0)\r\n                    return data.data[0];\r\n                else\r\n                    return null;\r\n            },\r\n            async changeProject(project_id) {\r\n                // 去获取工具cdn根路径\r\n                let par = {\r\n                    \"tool_type_code_id\": project_id\r\n                };\r\n                let tool_info = await this.r_get_tool_info(par);\r\n                if (tool_info == null) {\r\n                    this.pageData.cdnRootPath = \"未获取到cdn根路径信息\";\r\n                } else {\r\n                    this.pageData.cdnRootPath = tool_info.toolRootPath;\r\n                    this.createUploader();\r\n                }\r\n            },\r\n            confirmUpload() // 通用上传上传\r\n            {\r\n                this.pageData.upload_mode_code_id = '1';\r\n                this.upload();\r\n            },\r\n            forceUpload() //强制上传、转移重复的文件\r\n            {\r\n                this.pageData.upload_mode_code_id = '2';\r\n                this.upload();\r\n            },\r\n            overUpload() // 覆盖已经存在的文件、不存在的按照当前规则存储\r\n            {\r\n                this.pageData.upload_mode_code_id = '3';\r\n                this.upload();\r\n            },\r\n            upload() {\r\n                let uploaderInstance = this.$refs.uploadRef.uploader;\r\n                if (uploaderInstance.getSize() > 0) {\r\n                    uploaderInstance.upload();\r\n                    this.uploadState = 'upload'; // 当前处于上传状态\r\n                } else {\r\n                    this.$message.warning('请添加上传文件');\r\n                    this.uploadState = 'ready'; // 当前处于上传状态\r\n                }\r\n            },\r\n            pauseUpload() // 暂停上传\r\n            {\r\n                let uploaderInstance = this.$refs.uploadRef.uploader;\r\n                uploaderInstance.pause();\r\n                this.uploadState = 'pause'; // 当前处于暂停状态\r\n            },\r\n            resumeUpload()// 继续上传\r\n            {\r\n                let uploaderInstance = this.$refs.uploadRef.uploader;\r\n                uploaderInstance.resume();\r\n                this.uploadState = 'upload'; // 当前处于上传状态\r\n            },\r\n            cancelUpload()// 取消上传\r\n            {\r\n                let uploaderInstance = this.$refs.uploadRef.uploader;\r\n                uploaderInstance.cancel();\r\n            },\r\n            fileSuccess(rootFile, file, message, chunk) //文件上传成功后移除文件\r\n            {\r\n                let result = JSON.parse(chunk.xhr.response);\r\n                let res_type = 'error';\r\n                console.log(result.code)\r\n                console.log(typeof result.code)\r\n                if (result.code === '1')/*文件上传成功*/\r\n                    res_type = 'success';\r\n                if (result.code === '2' || result.code === '3')  /*文件已经存在*/\r\n                    res_type = 'warning';\r\n                console.log(res_type)\r\n                this.$notify({\r\n                    type: res_type,\r\n                    message: result.msg\r\n                });\r\n                let uploaderInstance = this.$refs.uploadRef.uploader;\r\n                uploaderInstance.removeFile(file); //移除文件\r\n            },\r\n            fileComplete(rootfile) // 一个根文件（文件夹）成功上传完成\r\n            {\r\n                this.uploadState = 'ready';\r\n                // 调用方法，默认去查询右侧列表\r\n                // 每次上传完一个文件，默认去查询一次\r\n                // ???\r\n                // this.$message.success(rootfile + ' upload complete');\r\n                this.$emit_method(this.refresh_page_method);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n    .uploader-example {\r\n        background: #CCCCCC;\r\n        padding: 15px;\r\n        margin: auto 0;\r\n        font-size: 12px;\r\n        box-shadow: 0 0 10px rgba(0, 0, 0, .4);\r\n    }\r\n\r\n    .uploader-example .uploader-btn {\r\n        margin-right: 4px;\r\n    }\r\n\r\n    .uploader-example .uploader-list {\r\n        overflow: auto;\r\n        overflow-x: hidden;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    #style-7::-webkit-scrollbar-track {\r\n        -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\r\n        background-color: #F5F5F5;\r\n        border-radius: 10px;\r\n    }\r\n\r\n    #style-7::-webkit-scrollbar {\r\n        width: 10px;\r\n        background-color: #ccc;\r\n    }\r\n\r\n    #style-7::-webkit-scrollbar-thumb {\r\n        border-radius: 10px;\r\n        background-image: -webkit-gradient(linear,\r\n        left bottom,\r\n        left top,\r\n        color-stop(transparent));\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/tool/cnd/cndUpload.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticStyle:{\"width\":\"500px\"},attrs:{\"model\":_vm.pageData,\"size\":\"mini\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"上传CDN\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":_vm.changeToCDNState},model:{value:(_vm.pageData.isToCdn),callback:function ($$v) {_vm.$set(_vm.pageData, \"isToCdn\", $$v)},expression:\"pageData.isToCdn\"}})],1),_vm._v(\" \"),(_vm.pageData.isToCdn)?_c('el-form-item',{attrs:{\"label\":\"项目名称\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"项目名称\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.changeProject(_vm.pageData.upload_project_id)}},model:{value:(_vm.pageData.upload_project_id),callback:function ($$v) {_vm.$set(_vm.pageData, \"upload_project_id\", $$v)},expression:\"pageData.upload_project_id\"}},_vm._l((_vm.upload_project_info_List),function(item){return _c('el-option',{key:item.project,attrs:{\"label\":item.project_name,\"value\":item._id}})}),1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.pageData.isToCdn)?_c('el-form-item',{attrs:{\"label\":\"CDN目录规则\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"CDN目录规则\",\"clearable\":\"\"},model:{value:(_vm.pageData.to_cdn_rule_code_id),callback:function ($$v) {_vm.$set(_vm.pageData, \"to_cdn_rule_code_id\", $$v)},expression:\"pageData.to_cdn_rule_code_id\"}},_vm._l((_vm.to_cdn_rule_code_list),function(item){return _c('el-option',{key:item.codeId,attrs:{\"label\":item.codeValue,\"value\":item.codeId}})}),1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.pageData.isToCdn)?_c('el-form-item',{attrs:{\"label\":\"CDN根路径:\",\"prop\":\"cdnRootPath\"}},[_vm._v(_vm._s(_vm.pageData.cdnRootPath))]):_vm._e(),_vm._v(\" \"),(_vm.isCreateUploader)?_c('el-form-item',[_c('el-col',{attrs:{\"span\":24}},[(_vm.uploadState === 'ready')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmUpload}},[_vm._v(\"通用上传\")]):_vm._e(),_vm._v(\" \"),(_vm.uploadState === 'ready')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.forceUpload}},[_vm._v(\"强制上传\")]):_vm._e(),_vm._v(\" \"),(_vm.uploadState === 'ready')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.overUpload}},[_vm._v(\"覆盖上传\")]):(_vm.uploadState === 'upload')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.pauseUpload}},[_vm._v(\"暂停上传\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.resumeUpload}},[_vm._v(\"继续上传\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.cancelUpload}},[_vm._v(\"取消上传\")])],1)],1):_vm._e()],1),_vm._v(\" \"),(_vm.isCreateUploader)?_c('uploader',{ref:\"uploadRef\",staticClass:\"uploader-example\",attrs:{\"options\":_vm.options,\"file-status-text\":_vm.statusText,\"autoStart\":false},on:{\"file-success\":_vm.fileSuccess,\"file-complete\":_vm.fileComplete}},[_c('uploader-unsupport'),_vm._v(\" \"),_c('uploader-drop',{staticStyle:{\"text-align\":\"center\"}},[_c('p',[_vm._v(\"拖拽文件至此上传\")]),_vm._v(\" \"),_c('uploader-btn',[_vm._v(\"选择文件\")]),_vm._v(\" \"),_c('uploader-btn',{attrs:{\"attrs\":_vm.attrs}},[_vm._v(\"选择图片\")]),_vm._v(\" \"),_c('uploader-btn',{attrs:{\"directory\":true}},[_vm._v(\"选择文件夹\")])],1),_vm._v(\" \"),(_vm.pageData.isToCdn)?_c('uploader-list',{ref:\"uploadListRef\",staticStyle:{\"max-height\":\"500px\",\"overflow-y\":\"scroll\",\"overflow-x\":\"hidden\"},attrs:{\"id\":\"style-7\"}}):_c('uploader-list',{ref:\"uploadListRef\",staticStyle:{\"max-height\":\"641px\",\"overflow-y\":\"scroll\",\"overflow-x\":\"hidden\"},attrs:{\"id\":\"style-7\"}})],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f729c1c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/tool/cnd/cndUpload.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f729c1c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cndUpload.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cndUpload.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cndUpload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f729c1c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cndUpload.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/tool/cnd/cndUpload.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-row :gutter=\"5\">\r\n        <el-col :span=\"8\">\r\n            <cndUpload></cndUpload>\r\n        </el-col>\r\n        <el-col :span=\"16\">\r\n            <cdnUploadRecordList></cdnUploadRecordList>\r\n        </el-col>\r\n\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n\r\n    import cdnUploadRecordList from './cnd/cdnUploadRecordList.vue'\r\n    import cndUpload from './cnd/cndUpload.vue'\r\n    export default {\r\n        name: 'cdn',\r\n        components: {cdnUploadRecordList, cndUpload},\r\n        data() {\r\n            return {\r\n                activeName: 'cndUpload'\r\n            };\r\n        },\r\n        methods: {\r\n            handleClick(tab, event) {\r\n                // console.log(tab, event);\r\n            }\r\n        }\r\n    };\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/tool/CDN.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{attrs:{\"gutter\":5}},[_c('el-col',{attrs:{\"span\":8}},[_c('cndUpload')],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('cdnUploadRecordList')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-80aac052\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/tool/CDN.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-80aac052\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CDN.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CDN.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CDN.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-80aac052\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CDN.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/tool/CDN.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}