webpackJsonp([28],{"26dS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"home",data:()=>({msg_type_list:null,msg_level_list:null,searchFormData:{user_name:"",msg:"",msg_type_code_id:"",msg_level_code_id:"",send_time:"",pageNum:1,pageSize:18,pageCount:1,order:"-send_time"},tableData:[]}),async mounted(){this.msg_type_list=await this.$setCodeList(this.msg_type_list,"msg_type"),this.msg_level_list=await this.$setCodeList(this.msg_level_list,"msg_level"),this.search()},methods:{handleSizeChange(e){this.searchFormData.pageSize=e,this.search()},handleCurrentChange(e){this.searchFormData.pageNum=e,this.search()},onReset(){this.$refs.searchFormRef.resetFields(),this.search()},onSearch(){this.searchFormData.pageNum=1,this.search()},search(){let e=this.searchFormData;this.r_search_msg_info_list(e)},format_msg_type(e,t,a){return this.$formatCodeValue(e,this.msg_type_list,"msg_type_code_id")},format_msg_level(e,t,a){return this.$formatCodeValue(e,this.msg_level_list,"msg_level_code_id")},r_search_msg_info_list(e){(new this.$http).post(e,"OAMP_search_msg_info_list").then(({data:e})=>{this.searchFormData.pageCount=e.pageCount,this.tableData=e.data})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"padding-top":"5px"}},[a("el-form",{ref:"searchFormRef",attrs:{inline:!0,model:e.searchFormData,size:"mini"}},[a("el-form-item",{attrs:{label:"操作人",prop:"user_name"}},[a("el-input",{attrs:{placeholder:"输入操作人名称"},model:{value:e.searchFormData.user_name,callback:function(t){e.$set(e.searchFormData,"user_name",t)},expression:"searchFormData.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发生时间",prop:"处理时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:e.searchFormData.send_time,callback:function(t){e.$set(e.searchFormData,"send_time",t)},expression:"searchFormData.send_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息内容",prop:"msg"}},[a("el-input",{attrs:{placeholder:"输入消息检索字"},model:{value:e.searchFormData.msg,callback:function(t){e.$set(e.searchFormData,"msg",t)},expression:"searchFormData.msg"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息类型",prop:"msg_type_code_id"}},[a("el-select",{attrs:{placeholder:"消息类型",clearable:""},model:{value:e.searchFormData.msg_type_code_id,callback:function(t){e.$set(e.searchFormData,"msg_type_code_id",t)},expression:"searchFormData.msg_type_code_id"}},e._l(e.msg_type_list,function(e){return a("el-option",{key:e.codeId,attrs:{label:e.codeValue,value:e.codeId}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"消息等级",prop:"msg_level_code_id"}},[a("el-select",{attrs:{placeholder:"消息类型",clearable:""},model:{value:e.searchFormData.msg_level_code_id,callback:function(t){e.$set(e.searchFormData,"msg_level_code_id",t)},expression:"searchFormData.msg_level_code_id"}},e._l(e.msg_level_list,function(e){return a("el-option",{key:e.codeId,attrs:{label:e.codeValue,value:e.codeId}})}),1)],1),e._v(" "),a("div",{staticClass:"v-search-opt"},[a("div",{staticClass:"v-pagination"},[a("el-pagination",{attrs:{"current-page":e.searchFormData.pageNum,"page-size":e.searchFormData.pageSize,total:e.searchFormData.pageCount,"page-sizes":[18,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"v-inline"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onSearch}},[a("i",{staticClass:"iconfont icon-chaxun"}),e._v(" 查询")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onReset}},[a("i",{staticClass:"iconfont icon-chongzhi"}),e._v(" 重置")])],1)])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData,border:!0,size:"small",height:e.getTableHeight(98)}},[a("el-table-column",{attrs:{fixed:"",type:"index",index:e.onIndexMethod(e.searchFormData.pageNum,e.searchFormData.pageSize),label:"序号",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"send_time",label:"发生时间",width:"156"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"处理时间",width:"156"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"操作人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"msg",label:"消息"}}),e._v(" "),a("el-table-column",{attrs:{prop:"msg_type_code_id",label:"消息类型",width:"200",formatter:e.format_msg_type}}),e._v(" "),a("el-table-column",{attrs:{prop:"msg_level_code_id",label:"消息等级",width:"100",formatter:e.format_msg_level}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"par",label:"参数",width:"400"}})],1)],1)},staticRenderFns:[]};var r=a("VU/8")(s,l,!1,function(e){a("cjBN")},"data-v-6b5dd40b",null);t.default=r.exports},cjBN:function(e,t){}});
//# sourceMappingURL=28.302d90dabc59f7544d27.js.map